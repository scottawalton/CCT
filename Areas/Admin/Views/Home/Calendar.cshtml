@{
    ViewData["Title"] = "Welcome to the Calendar!";
}
@model CCT.Event

<h2>Schedule an event by clicking on the appropriate day.</h2>


<link rel="stylesheet" href="~/css/fullcalendar.min.css">

<script src='~/js/moment.min.js'></script>
<script src='~/js/fullcalendar.min.js'></script>

<script type='text/javascript'>
    $(document).ready(function() {

        var date = new Date();
        var d = date.getDate();
        var m = date.getMonth();
        var y = date.getFullYear();

        $('#calendar').each(function(){
            var calendar = $(this);
            calendar.fullCalendar({
                editable: true,
                eventLimit: true,
                fixedWeekCount: false,
                selectable: true,
                // TODO: implement usage of GetEvents function from Home controller
                events: 
                [
                    {
                        title: 'my event',
                        start: new Date(y, m, 1, 9, 00),
                        end: new Date(y, m, 1, 10, 00),
                        allDay: false,
                    }
                ],

                select: function(start, end)
                {
                    // prompt to enter start end title and desc
                    $('#eventPrompt').modal()
                }
            })
        });

    });
</script>



<div class='container'>
        <div class="col-md-10 col-md-offset-1" id='calendar'></div>
</div>

@* a prompt box that appears when they click on the calendar *@
<div id="eventPrompt" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">New Event</h4>
            </div>

            <div class="modal-body">
                <div class="form-group">
                <label for="title">Event Title:</label>
                <input class="form-control" asp-for="title" id="title">
                </div>

                <div class="form-group">
                    <label for="start">Event Start Date:</label>
                    <input class="form-control" asp-for="start" id="start">
                </div>

                <div class="form-group col-3">
                <label for="end">Event End Date:</label>
                <input class="form-control" asp-for="end" id="end">
                </div>

                <div class="form-group">
                <label for="description">Event Description:</label>
                <textarea class="form-control" asp-for="description" id="description"></textarea>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn" id="cancel-btn" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary" id="submit-btn" >Submit</button>
            </div>
        </div> 
    </div>
</div>